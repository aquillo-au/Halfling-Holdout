* 000000 [Engine] Log started at 2023/8/8 15:38:26
* 000000 [Engine] This copy of the engine is git hash 302908cbc1edc80bcb5e45f1b7c52801e0ce5576, built on Mar 10 2023, at 22:19:53
* 000000 [Engine] Platform: Windows
* 000000 [Engine] 
* 000000 [Engine] *******************************************************************************************
* 000000 [Engine] *** This is the Standard license build!                                                 ***
* 000000 [Engine] *** Get more with an Indie or Pro license such as C extensions, mobile dev, and VR dev! ***
* 000000 [Engine] *** Details at http://dragonruby.org/toolkit/game#purchase                              ***
* 000000 [Engine] *******************************************************************************************
* 000000 [Engine] 
! 000000 [Engine] Metadata file does not have all required fields!
- 000000 [Engine] Game Dir: C:\Users\aquil\OneDrive\Desktop\dragonruby-windows-amd64\/mygame
- 000000 [Engine] Game ID: hello-SDL
- 000000 [Engine] Game Title: Update metadata/game_metadata.txt in your mygame directory to change this title.
- 000000 [Engine] Game Version: 1.0
- 000000 [Engine] Game Package ID: org.aquillo.hello-SDL
- 000000 [Engine] Game Developer ID: aquillo
- 000000 [Engine] Game Developer Title: dragon
- 000000 [Engine] Production Build: no
- 000000 [Engine] Remote Hotload: no
? 000000 [Engine] Loading cvars from file 'metadata/cvars.txt' ...
? 000000 [Engine] File 'metadata/cvars.txt' line 1 setting cvar 'log.filter_subsystems' to 'HTTPServer'
? 000000 [Engine] File 'metadata/cvars.txt' complete
- 000000 [Render] Using SDL renderer backend: direct3d
? 000000 [Engine] RNG seed has been set to 1691473106.
- 000000 [Engine] Janitor is using 4 threads.
? 000000 [Engine] Marked app/main.rb for reload. (-1)
? 000042 [Engine] Marked app/main.rb for reload. (2519)
? 000042 [Engine] RNG seed has been set to 1691473106.
? 000144 [Engine] Marked app/main.rb for reload. (8640)
? 000144 [Engine] RNG seed has been set to 1691473106.
? 000230 [Engine] Marked app/main.rb for reload. (13802)
? 000230 [Engine] RNG seed has been set to 1691473106.
? 000529 [Engine] Marked app/main.rb for reload. (31744)
? 000529 [Engine] RNG seed has been set to 1691473106.
- 000529 [Game] * INFO: New methods discovered.
** :spawn_clouds

- 000529 [Game] Game state and exception will be written to logs/exceptions/game_state_0.txt and logs/exceptions/current.txt.
- 000529 [Game] * EXCEPTION:
* ERROR:
Undefined method spawn_cloud for main.


** Backtrace:
*** app/main.rb:132:in tick
*** app/main.rb:212 (31747)
? 000547 [Engine] Marked app/main.rb for reload. (32826)
- 000558 [Game] * WARNING:
Your average framerate dropped below 60 fps for two seconds.

The average FPS was 22.46666666666666.

** How To Disable Warning
If this warning is getting annoying put the following in your tick method:

#+begin_src
  args.gtk.log_level = :off
#+end_src

* INFO: Framerate Diagnostics
You can display these diagnostics using:

#+begin_src
  def tick args
    # ....

    # IMPORTANT: Put this at the END of the ~tick~ method.
    args.outputs.debug << args.gtk.framerate_diagnostics_primitives
  end
#+end_src

** Draw Calls: ~<<~ Invocation Perf Counter
Here is how many times ~args.outputs.PRIMITIVE_ARRAY <<~ was called:

  3 times invoked.

If the number above is high, consider batching primitives so you can lower the invocation of ~<<~. For example.

Instead of:

#+begin_src
  args.state.enemies.map do |e|
    e.alpha = 128
    args.outputs.sprites << e # <-- ~args.outputs.sprites <<~ is invoked a lot
  end
#+end_src

Do this:

#+begin_src
  args.outputs.sprites << args.state
                              .enemies
                              .map do |e| # <-- ~args.outputs.sprites <<~ is only invoked once.
    e.alpha = 128
    e
  end
#+end_src

** Array Primitives
~Primitives~ represented as an ~Array~ (~Tuple~) are great for prototyping, but are not as performant as using a ~Hash~.

Here is the number of ~Array~ primitives that were encountered:

  0 Array Primitives.

If the number above is high, consider converting them to hashes. For example.

Instead of:

#+begin_src
  args.outputs.sprites << [0, 0, 100, 100, 'sprites/enemy.png']
#+end_src

Do this:

#+begin_src
  args.outputs.sprites << { x: 0,
                            y: 0,
                            w: 100,
                            h: 100,
                            path: 'sprites/enemy.png' }
#+end_src

We will notify of places where that use Array Primitives if you add the following
to your ~tick~ method.

#+begin_src
  def tick args
    # add the following line to the top of your tick method
    $gtk.warn_array_primitives!
  end
#+end_src

** Primitive Counts
Here are the draw counts ordered by lowest to highest z order:

PRIMITIVE   COUNT, STATIC COUNT
solids:     1, 0
sprites:    4, 0
primitives: 0, 0
labels:     2, 0
lines:      0, 0
borders:    0, 0
debug:      0, 0
reserved:   0, 0

** Additional Help
Come to the DragonRuby Discord channel if you need help troubleshooting performance issues. http://discord.dragonruby.org.

Source code for these diagnostics can be found at: [[https://github.com/dragonruby/dragonruby-game-toolkit-contrib/]]


? 000602 [Engine] Marked app/main.rb for reload. (36126)
? 000602 [Engine] RNG seed has been set to 1691473106.
? 000645 [Engine] Marked app/main.rb for reload. (38708)
? 000645 [Engine] RNG seed has been set to 1691473106.
- 000645 [Game] * INFO: New methods discovered.
** :spawn_cloud

? 000673 [Engine] Marked app/main.rb for reload. (40390)
? 000673 [Engine] RNG seed has been set to 1691473106.
- 000703 [Game] Game state and exception will be written to logs/exceptions/game_state_1799.txt and logs/exceptions/current.txt.
- 000703 [Game] * EXCEPTION:
* ERROR - :paused= method missing on ~Integer~.
The method
  :paused=
with args
  [true]
doesn't exist on 0.
** Backtrace:
*** app/main.rb:141:in tick
*** app/main.rb:212 (42192)
? 000742 [Engine] Marked app/main.rb for reload. (44532)
? 000742 [Engine] RNG seed has been set to 1691473106.
? 000770 [Engine] Marked app/main.rb for reload. (46214)
? 000770 [Engine] RNG seed has been set to 1691473106.
? 000779 [Engine] Marked app/main.rb for reload. (46756)
? 000779 [Engine] RNG seed has been set to 1691473106.
? 000791 [Engine] Marked app/main.rb for reload. (47478)
? 000791 [Engine] RNG seed has been set to 1691473106.
? 000801 [Engine] Marked app/main.rb for reload. (48080)
? 000801 [Engine] RNG seed has been set to 1691473106.
? 000827 [Engine] Marked app/main.rb for reload. (49642)
? 000827 [Engine] RNG seed has been set to 1691473106.
? 000855 [Engine] Marked app/main.rb for reload. (51324)
? 000855 [Engine] RNG seed has been set to 1691473106.
? 000907 [Engine] Marked app/main.rb for reload. (54446)
? 000907 [Engine] RNG seed has been set to 1691473106.
? 000930 [Engine] Marked app/main.rb for reload. (55828)
? 000930 [Engine] RNG seed has been set to 1691473106.
? 000968 [Engine] Marked app/main.rb for reload. (58110)
? 000968 [Engine] RNG seed has been set to 1691473106.
? 001087 [Engine] Marked app/main.rb for reload. (65252)
? 001087 [Engine] RNG seed has been set to 1691473106.
? 001159 [Engine] Marked app/main.rb for reload. (69574)
? 001159 [Engine] RNG seed has been set to 1691473106.
- 001214 [Game] -> args.state.clouds
- 001214 [Game] => []
- 001221 [Game] -> args.state.clouds.size
- 001221 [Game] => 0
- 001228 [Game] -> spawn_cloud(args)
- 001228 [Game] => {:x=>759, :y=>403.0, :w=>48, :h=>48, :path=>"sprites/cloud.png"}
- 001239 [Game] -> spawn_cloud(args)
- 001239 [Game] => {:x=>933, :y=>658.0, :w=>48, :h=>48, :path=>"sprites/cloud.png"}
? 001244 [Engine] RNG seed has been set to 1691473106.
- 001260 [Game] -> spawn_cloud(args)
- 001260 [Game] => {:x=>717, :y=>473.0, :w=>48, :h=>48, :path=>"sprites/cloud.png"}
- 001271 [Game] -> arg.state.clouds
- 001271 [Game] * EXCEPTION: * ERROR - :arg method missing on ~Class~.
The method named
  :arg
doesn't exist on
  [Class].
#+begin_src ~Class#inspect~
GTK::ConsoleEvaluator
#+end_src ~Class#inspect~ for :arg method missing on ~Class~
- 001280 [Game] -> args.state.clouds
- 001280 [Game] => []
- 001284 [Game] -> spawn_cloud(args)
- 001284 [Game] => {:x=>210, :y=>606.0, :w=>48, :h=>48, :path=>"sprites/cloud.png"}
- 001286 [Game] -> args.state.clouds
- 001286 [Game] => []
? 001313 [Engine] Marked app/main.rb for reload. (78758)
? 001313 [Engine] RNG seed has been set to 1691473106.
? 001354 [Engine] Marked app/main.rb for reload. (81220)
? 001354 [Engine] RNG seed has been set to 1691473106.
? 001399 [Engine] Marked app/main.rb for reload. (83922)
? 001399 [Engine] RNG seed has been set to 1691473106.
- 001458 [Game] * EXCEPTION:
** Failed to reload app/main.rb.
line 124:1: syntax error, unexpected tLBRACE, expecting ']'
line 130:6: syntax error, unexpected ',', expecting keyword_end
line 138:6: syntax error, unexpected ',', expecting keyword_end
line 146:6: syntax error, unexpected ',', expecting keyword_end



** Backtrace:
*** app/main.rb:223 (87464)
- 001603 [Game] * EXCEPTION:
** Failed to reload app/main.rb.
line 18:1: syntax error, unexpected '='



** Backtrace:
*** app/main.rb:223 (96163)
? 001614 [Engine] Marked app/main.rb for reload. (96822)
? 001614 [Engine] RNG seed has been set to 1691473106.
? 001634 [Engine] Marked app/main.rb for reload. (98024)
? 001634 [Engine] RNG seed has been set to 1691473106.
- 001634 [Game] Game state and exception will be written to logs/exceptions/game_state_0.txt and logs/exceptions/current.txt.
- 001634 [Game] * EXCEPTION:
* ERROR - :- method missing on ~GTK::OpenEntity~.
The method named
  :-
with args
  [1]
doesn't exist on
  [GTK::OpenEntity].
#+begin_src ~GTK::OpenEntity#inspect~
{:entity_id=>1, :entity_name=>:timer, :entity_keys_by_ref=>{}}
#+end_src ~GTK::OpenEntity#inspect~ for :- method missing on ~GTK::OpenEntity~
** Backtrace:
*** app/main.rb:143:in tick
*** app/main.rb:228 (98027)
? 001723 [Engine] Marked app/main.rb for reload. (103366)
- 001723 [Game] Game state and exception will be written to logs/exceptions/game_state_1.txt and logs/exceptions/current.txt.
- 001723 [Game] * EXCEPTION:
* ERROR - :- method missing on ~GTK::OpenEntity~.
The method named
  :-
with args
  [1]
doesn't exist on
  [GTK::OpenEntity].
#+begin_src ~GTK::OpenEntity#inspect~
{:entity_id=>1, :entity_name=>:timer, :entity_keys_by_ref=>{}}
#+end_src ~GTK::OpenEntity#inspect~ for :- method missing on ~GTK::OpenEntity~
** Backtrace:
*** app/main.rb:143:in tick
*** app/main.rb:228 (103369)
? 001762 [Engine] Marked app/main.rb for reload. (105706)
? 001762 [Engine] RNG seed has been set to 1691473106.
? 001792 [Engine] Marked app/main.rb for reload. (107508)
? 001792 [Engine] RNG seed has been set to 1691473106.
? 001818 [Engine] Marked app/main.rb for reload. (109070)
? 001818 [Engine] RNG seed has been set to 1691473106.
? 001826 [Engine] Marked app/main.rb for reload. (109552)
? 001826 [Engine] RNG seed has been set to 1691473106.
? 001833 [Engine] Marked app/main.rb for reload. (109974)
? 001833 [Engine] RNG seed has been set to 1691473106.
? 001878 [Engine] Marked app/main.rb for reload. (112676)
? 001878 [Engine] RNG seed has been set to 1691473106.
? 001912 [Engine] Marked app/main.rb for reload. (114718)
? 001912 [Engine] RNG seed has been set to 1691473106.
? 001942 [Engine] Marked app/main.rb for reload. (116520)
? 001942 [Engine] RNG seed has been set to 1691473106.
? 001949 [Engine] Marked app/main.rb for reload. (116942)
? 001949 [Engine] RNG seed has been set to 1691473106.
? 001956 [Engine] Marked app/main.rb for reload. (117364)
? 001956 [Engine] RNG seed has been set to 1691473106.
? 002007 [Engine] Marked app/main.rb for reload. (120426)
? 002007 [Engine] RNG seed has been set to 1691473106.
? 002041 [Engine] Marked app/main.rb for reload. (122468)
? 002041 [Engine] RNG seed has been set to 1691473106.
? 002183 [Engine] Marked app/main.rb for reload. (130990)
? 002183 [Engine] RNG seed has been set to 1691473106.
? 002230 [Engine] RNG seed has been set to 1691473106.
- 002268 [Game] * EXCEPTION:
** Failed to reload app/main.rb.
line 225:2: syntax error, unexpected '\n'



** Backtrace:
*** app/main.rb:237 (136094)
? 002275 [Engine] Marked app/main.rb for reload. (136513)
? 002275 [Engine] RNG seed has been set to 1691473106.
? 002405 [Engine] Marked app/main.rb for reload. (144315)
? 002405 [Engine] RNG seed has been set to 1691473106.
? 002415 [Engine] Marked app/main.rb for reload. (144917)
? 002415 [Engine] RNG seed has been set to 1691473106.
? 002422 [Engine] Marked app/main.rb for reload. (145339)
? 002422 [Engine] RNG seed has been set to 1691473106.
? 002428 [Engine] Marked app/main.rb for reload. (145701)
? 002428 [Engine] RNG seed has been set to 1691473106.
? 002432 [Engine] Marked app/main.rb for reload. (145943)
? 002432 [Engine] RNG seed has been set to 1691473106.
? 002439 [Engine] Marked app/main.rb for reload. (146365)
? 002439 [Engine] RNG seed has been set to 1691473106.
? 002446 [Engine] Marked app/main.rb for reload. (146787)
? 002446 [Engine] RNG seed has been set to 1691473106.
? 002455 [Engine] Marked app/main.rb for reload. (147329)
? 002455 [Engine] RNG seed has been set to 1691473106.
? 002463 [Engine] Marked app/main.rb for reload. (147811)
? 002464 [Engine] RNG seed has been set to 1691473106.
? 002471 [Engine] Marked app/main.rb for reload. (148233)
? 002471 [Engine] RNG seed has been set to 1691473106.
? 002481 [Engine] Marked app/main.rb for reload. (148835)
? 002481 [Engine] RNG seed has been set to 1691473106.
? 002524 [Engine] Marked app/main.rb for reload. (151417)
? 002524 [Engine] RNG seed has been set to 1691473106.
? 002531 [Engine] Marked app/main.rb for reload. (151839)
? 002531 [Engine] RNG seed has been set to 1691473106.
? 002537 [Engine] Marked app/main.rb for reload. (152201)
? 002537 [Engine] RNG seed has been set to 1691473106.
? 002569 [Engine] Marked app/main.rb for reload. (154123)
? 002569 [Engine] RNG seed has been set to 1691473106.
? 002642 [Engine] Marked app/main.rb for reload. (158505)
? 002642 [Engine] RNG seed has been set to 1691473106.
? 002707 [Engine] Marked app/main.rb for reload. (162407)
? 002707 [Engine] RNG seed has been set to 1691473106.
? 002756 [Engine] Marked app/main.rb for reload. (165349)
? 002756 [Engine] RNG seed has been set to 1691473106.
? 002834 [Engine] Marked app/main.rb for reload. (170031)
? 002834 [Engine] RNG seed has been set to 1691473106.
? 002863 [Engine] Marked app/main.rb for reload. (171773)
? 002863 [Engine] RNG seed has been set to 1691473106.
? 002869 [Engine] Marked app/main.rb for reload. (172135)
? 002869 [Engine] RNG seed has been set to 1691473106.
? 002879 [Engine] Marked app/main.rb for reload. (172737)
? 002879 [Engine] RNG seed has been set to 1691473106.
? 002884 [Engine] Marked app/main.rb for reload. (173039)
? 002884 [Engine] RNG seed has been set to 1691473106.
? 002892 [Engine] Marked app/main.rb for reload. (173521)
? 002892 [Engine] RNG seed has been set to 1691473106.
? 002962 [Engine] RNG seed has been set to 1691473106.
? 003174 [Engine] Marked app/main.rb for reload. (190445)
? 003174 [Engine] RNG seed has been set to 1691473106.
- 003174 [Game] Game state and exception will be written to logs/exceptions/game_state_0.txt and logs/exceptions/current.txt.
- 003174 [Game] * EXCEPTION:
* ERROR - :x method missing on ~String~.
The method
  :x
doesn't exist on "sprites/cloud_2.png".
** Backtrace:
*** app/main.rb:177:in tick
*** app/main.rb:176:in tick
*** app/main.rb:250 (190448)
? 003196 [Engine] Marked app/main.rb for reload. (191767)
- 003196 [Game] Game state and exception will be written to logs/exceptions/game_state_1.txt and logs/exceptions/current.txt.
- 003196 [Game] * EXCEPTION:
* ERROR - :x method missing on ~String~.
The method
  :x
doesn't exist on "sprites/cloud_2.png".
** Backtrace:
*** app/main.rb:177:in tick
*** app/main.rb:176:in tick
*** app/main.rb:250 (191770)
- 003273 [Game] -> $gtk.reset seed: 1691473106
? 003273 [Engine] RNG seed has been set to 1691473106.
- 003273 [Game] => 0
? 003284 [Engine] Marked app/main.rb for reload. (197047)
? 003284 [Engine] RNG seed has been set to 1691473106.
? 003293 [Engine] Marked app/main.rb for reload. (197589)
? 003293 [Engine] RNG seed has been set to 1691473106.
- 003293 [Game] Game state and exception will be written to logs/exceptions/game_state_0.txt and logs/exceptions/current.txt.
- 003293 [Game] * EXCEPTION:
* ERROR - :x method missing on ~String~.
The method
  :x
doesn't exist on "sprites/cloud_2.png".
** Backtrace:
*** app/main.rb:177:in tick
*** app/main.rb:176:in tick
*** app/main.rb:250 (197592)
? 003385 [Engine] Marked app/main.rb for reload. (203111)
- 003385 [Game] Game state and exception will be written to logs/exceptions/game_state_1.txt and logs/exceptions/current.txt.
- 003385 [Game] * EXCEPTION:
* ERROR - :x method missing on ~String~.
The method
  :x
doesn't exist on "sprites/cloud_2.png".
** Backtrace:
*** app/main.rb:178:in tick
*** app/main.rb:177:in tick
*** app/main.rb:251 (203114)
- 003444 [Game] -> $gtk.reset seed: 1691473106
? 003444 [Engine] RNG seed has been set to 1691473106.
- 003444 [Game] => 0
? 003963 [Engine] Marked app/main.rb for reload. (237791)
? 003963 [Engine] RNG seed has been set to 1691473106.
- 003963 [Game] * INFO: New methods discovered.
** :gameplay_tick

? 003995 [Engine] RNG seed has been set to 1691473106.
? 004073 [Engine] Marked app/main.rb for reload. (244395)
? 004073 [Engine] RNG seed has been set to 1691473106.
- 004073 [Game] * INFO: New methods discovered.
** :title_tick

? 004120 [Engine] RNG seed has been set to 1691473106.
? 004218 [Engine] Marked app/main.rb for reload. (253099)
? 004218 [Engine] RNG seed has been set to 1691473106.
? 004300 [Engine] Marked app/main.rb for reload. (258021)
? 004300 [Engine] RNG seed has been set to 1691473106.
? 004319 [Engine] Marked app/main.rb for reload. (259163)
? 004319 [Engine] RNG seed has been set to 1691473106.
? 004360 [Engine] RNG seed has been set to 1691473106.
- 004450 [Game] * EXCEPTION:
** Failed to reload app/main.rb.
line 19:4: syntax error, unexpected local variable or method, expecting keyword_end



** Backtrace:
*** app/main.rb:299 (267027)
- 004467 [Game] * EXCEPTION:
** Failed to reload app/main.rb.
line 19:4: syntax error, unexpected local variable or method, expecting keyword_end



** Backtrace:
*** app/main.rb:299 (268046)
? 004479 [Engine] Marked app/main.rb for reload. (268765)
? 004479 [Engine] RNG seed has been set to 1691473106.
? 004498 [Engine] Marked app/main.rb for reload. (269907)
? 004498 [Engine] RNG seed has been set to 1691473106.
? 004620 [Engine] Marked app/main.rb for reload. (277169)
? 004620 [Engine] RNG seed has been set to 1691473106.
? 004786 [Engine] Marked app/main.rb for reload. (287131)
? 004786 [Engine] RNG seed has been set to 1691473106.
? 004917 [Engine] Marked app/main.rb for reload. (294993)
? 004917 [Engine] RNG seed has been set to 1691473106.
? 004936 [Engine] Marked app/main.rb for reload. (296135)
? 004936 [Engine] RNG seed has been set to 1691473106.
? 005167 [Engine] Marked app/main.rb for reload. (309997)
? 005167 [Engine] RNG seed has been set to 1691473106.
- 005167 [Game] * INFO: New methods discovered.
** :pause_tick

? 005280 [Engine] Marked app/main.rb for reload. (316779)
? 005280 [Engine] RNG seed has been set to 1691473106.
- 005284 [Game] Game state and exception will be written to logs/exceptions/game_state_233.txt and logs/exceptions/current.txt.
- 005284 [Game] * EXCEPTION:
* ERROR:
Undefined method labels for main.


** Backtrace:
*** app/main.rb:5:in pause_tick
*** app/main.rb:315:in tick
*** app/main.rb:319 (317015)
? 005319 [Engine] Marked app/main.rb for reload. (319121)
? 005319 [Engine] RNG seed has been set to 1691473106.
? 005402 [Engine] Marked app/main.rb for reload. (324103)
? 005402 [Engine] RNG seed has been set to 1691473106.
? 005442 [Engine] Marked app/main.rb for reload. (326505)
? 005442 [Engine] RNG seed has been set to 1691473106.
? 005495 [Engine] Marked app/main.rb for reload. (329686)
? 005495 [Engine] RNG seed has been set to 1691473106.
? 005683 [Engine] Marked app/main.rb for reload. (340968)
? 005683 [Engine] RNG seed has been set to 1691473106.
? 005722 [Engine] Marked app/main.rb for reload. (343309)
? 005722 [Engine] RNG seed has been set to 1691473106.
* 007203 [Engine] Logging shutting down
